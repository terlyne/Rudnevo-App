{% extends "panel/base.html" %}

{% block title %}
–†—É–¥–Ω–µ–≤–æ - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/panel/home.css') }}">
{% endblock %}

{% block container %}
<div class="home-container">
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
    
    <div class="stats-section">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üì∞</div>
                <div class="stat-content">
                    <div class="stat-number">{{ stats.news_count }}</div>
                    <div class="stat-label">–ù–æ–≤–æ—Å—Ç–µ–π</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚ùì</div>
                <div class="stat-content">
                    <div class="stat-number">{{ stats.feedback_count }}</div>
                    <div class="stat-label">–í–æ–ø—Ä–æ—Å–æ–≤</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-content">
                    <div class="stat-number">{{ stats.reviews_count }}</div>
                    <div class="stat-label">–û—Ç–∑—ã–≤–æ–≤</div>
                </div>
            </div>
            {% if current_user.is_superuser %}
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-content">
                    <div class="stat-number">{{ stats.users_count }}</div>
                    <div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="actions-section">
        <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
        <div class="actions-container">
            {% if last_actions %}
            <div class="actions-scroll">
                {% for action in last_actions %}
                <div class="action-item">
                    <div class="action-icon">
                        {% if "–Ω–æ–≤–æ—Å—Ç—å" in action.action.lower() %}
                            üì∞
                        {% elif "–≤–æ–ø—Ä–æ—Å" in action.action.lower() or "–æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å" in action.action.lower() %}
                            ‚ùì
                        {% elif "–æ—Ç–∑—ã–≤" in action.action.lower() %}
                            ‚≠ê
                        {% elif "–≤–∞–∫–∞–Ω—Å–∏—é" in action.action.lower() %}
                            üíº
                        {% elif "—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ" in action.action.lower() %}
                            üìÖ
                        {% else %}
                            üîÑ
                        {% endif %}
                    </div>
                    <div class="action-content">
                        <div class="action-header">
                            <span class="action-username">{{ action.username }}</span>
                            <span class="action-time">{{ action.created_at }}</span>
                        </div>
                        <div class="action-text">{{ action.action }}</div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="no-actions">
                <div class="no-actions-icon">üìã</div>
                <div class="no-actions-text">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π</div>
                <div class="no-actions-subtext">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ</div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}